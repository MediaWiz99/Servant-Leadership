<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Servant Leadership Assessment | Chapman University</title>
    <style>
        :root {
            --chapman-blue: #00205B;
            --chapman-gold: #C4A000;
            --gold-light: #F5E6A3;
            --blue-light: #E8EDF5;
            --blue-medium: #1A3A7A;
            --text-primary: #1a1a2e;
            --text-secondary: #4a4a5a;
            --white: #ffffff;
            --empowering: #1565C0;
            --humility: #2E7D32;
            --serving: #7B1FA2;
            --stewardship: #C62828;
            --shadow-medium: 0 4px 20px rgba(0, 32, 91, 0.12);
            --shadow-strong: 0 8px 32px rgba(0, 32, 91, 0.18);
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', -apple-system, sans-serif; line-height: 1.7; color: var(--text-primary); background: linear-gradient(135deg, var(--chapman-blue), var(--blue-medium)); min-height: 100vh; padding: 20px; }
        .container { max-width: 950px; margin: 0 auto; background: var(--white); border-radius: 16px; box-shadow: var(--shadow-strong); overflow: hidden; }
        .header { background: linear-gradient(135deg, var(--chapman-blue), var(--blue-medium)); color: var(--white); padding: 40px 30px; text-align: center; position: relative; }
        .header::after { content: ''; position: absolute; bottom: 0; left: 0; right: 0; height: 4px; background: linear-gradient(90deg, var(--chapman-gold), var(--gold-light), var(--chapman-gold)); }
        .institution { font-size: 0.95em; letter-spacing: 2px; text-transform: uppercase; opacity: 0.9; margin-bottom: 5px; }
        .college { font-size: 1.1em; color: var(--chapman-gold); margin-bottom: 20px; font-weight: 600; }
        h1 { font-size: 2.4em; font-weight: 700; margin-bottom: 12px; }
        .subtitle { font-size: 1.15em; font-style: italic; color: var(--gold-light); }
        .content { padding: 35px; }
        .hidden { display: none !important; }
        .intro-section { background: linear-gradient(135deg, var(--blue-light), #f8f9fc); border-radius: 14px; padding: 30px; margin-bottom: 30px; border-left: 5px solid var(--chapman-blue); }
        .intro-section h2 { color: var(--chapman-blue); font-size: 1.4em; margin-bottom: 15px; }
        .intro-section p { color: var(--text-secondary); margin-bottom: 15px; }
        .dimensions-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; margin: 25px 0; }
        .dim-preview { padding: 20px 12px; border-radius: 12px; text-align: center; color: var(--white); }
        .dim-preview.empowering { background: linear-gradient(135deg, var(--empowering), #1976D2); }
        .dim-preview.humility { background: linear-gradient(135deg, var(--humility), #43A047); }
        .dim-preview.serving { background: linear-gradient(135deg, var(--serving), #9C27B0); }
        .dim-preview.stewardship { background: linear-gradient(135deg, var(--stewardship), #D32F2F); }
        .dim-preview .icon { font-size: 1.8em; margin-bottom: 6px; }
        .dim-preview .name { font-weight: 700; font-size: 0.75em; line-height: 1.3; }
        .quote-box { background: linear-gradient(135deg, #fffef8, #fef9e7); border-left: 5px solid var(--chapman-gold); padding: 25px; margin: 25px 0; border-radius: 0 12px 12px 0; }
        .quote-box blockquote { font-style: italic; color: var(--text-secondary); font-size: 1.05em; line-height: 1.6; }
        .quote-box cite { display: block; margin-top: 12px; color: var(--chapman-blue); font-weight: 600; font-style: normal; }
        .assessment-meta { display: flex; gap: 25px; margin-top: 20px; padding-top: 20px; border-top: 1px solid rgba(0,32,91,0.1); flex-wrap: wrap; }
        .meta-item { display: flex; align-items: center; gap: 8px; color: var(--text-secondary); }
        .meta-icon { width: 28px; height: 28px; background: var(--chapman-blue); color: var(--white); border-radius: 6px; display: flex; align-items: center; justify-content: center; font-size: 0.85em; }
        .student-info { display: grid; grid-template-columns: 1fr 1fr; gap: 25px; margin-bottom: 30px; }
        .input-group { display: flex; flex-direction: column; }
        .input-group label { font-weight: 600; margin-bottom: 8px; color: var(--chapman-blue); }
        .input-group input { padding: 14px 16px; border: 2px solid #e1e5eb; border-radius: 10px; font-size: 16px; }
        .input-group input:focus { outline: none; border-color: var(--chapman-blue); box-shadow: 0 0 0 4px rgba(0,32,91,0.08); }
        .instructions-box { background: linear-gradient(135deg, #fffef8, #fef9e7); border: 2px solid var(--chapman-gold); border-radius: 12px; padding: 25px; margin-bottom: 30px; }
        .instructions-box h3 { color: var(--chapman-blue); margin-bottom: 15px; }
        .scale-display { display: flex; justify-content: space-between; margin-top: 15px; padding: 15px; background: var(--blue-light); border-radius: 10px; }
        .scale-item { text-align: center; flex: 1; }
        .scale-number { display: inline-block; width: 36px; height: 36px; line-height: 36px; background: var(--chapman-blue); color: var(--white); border-radius: 50%; font-weight: 700; margin-bottom: 5px; }
        .scale-label { font-size: 0.6em; color: var(--text-secondary); }
        .progress-container { margin-bottom: 25px; }
        .progress-label { display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 0.9em; color: var(--text-secondary); }
        .progress-bar { width: 100%; height: 10px; background: #e8ecf0; border-radius: 5px; overflow: hidden; }
        .progress-fill { height: 100%; background: linear-gradient(90deg, var(--chapman-blue), var(--chapman-gold)); width: 0%; transition: width 0.5s ease; }
        .question-container { background: var(--white); border-radius: 14px; border: 2px solid #e8ecf0; padding: 25px; margin-bottom: 18px; transition: all 0.3s ease; }
        .question-container:hover { border-color: var(--chapman-blue); box-shadow: var(--shadow-medium); }
        .question-container.answered { border-color: var(--chapman-gold); background: linear-gradient(135deg, #fffef8, var(--white)); }
        .question-text { font-size: 1.02em; color: var(--text-primary); margin-bottom: 18px; line-height: 1.6; }
        .question-number { color: var(--chapman-blue); font-weight: 700; margin-right: 8px; }
        .likert-scale { display: flex; justify-content: space-between; gap: 6px; }
        .likert-option { flex: 1; text-align: center; }
        .likert-option input[type="radio"] { display: none; }
        .likert-option label { display: flex; flex-direction: column; align-items: center; padding: 12px 6px; border: 2px solid #e8ecf0; border-radius: 10px; cursor: pointer; transition: all 0.3s ease; background: #fafbfc; }
        .likert-option label:hover { border-color: var(--chapman-blue); background: var(--blue-light); }
        .likert-option input[type="radio"]:checked + label { border-color: var(--chapman-blue); background: var(--chapman-blue); color: var(--white); }
        .likert-number { font-size: 1.2em; font-weight: 700; margin-bottom: 2px; }
        .likert-label { font-size: 0.55em; text-transform: uppercase; }
        .controls { text-align: center; margin: 30px 0; }
        .btn { border: none; padding: 16px 40px; font-size: 1.05em; font-weight: 600; border-radius: 12px; cursor: pointer; transition: all 0.3s ease; margin: 8px; display: inline-flex; align-items: center; gap: 10px; }
        .btn-primary { background: linear-gradient(135deg, var(--chapman-blue), var(--blue-medium)); color: var(--white); box-shadow: 0 4px 15px rgba(0,32,91,0.3); }
        .btn-primary:hover:not(:disabled) { transform: translateY(-3px); }
        .btn-secondary { background: linear-gradient(135deg, var(--chapman-gold), #d4b000); color: var(--chapman-blue); }
        .btn:disabled { opacity: 0.5; cursor: not-allowed; }
        .btn-outline { background: transparent; border: 2px solid var(--chapman-blue); color: var(--chapman-blue); }
        .results { display: none; margin-top: 30px; }
        .results-header { background: linear-gradient(135deg, var(--chapman-blue), var(--blue-medium)); color: var(--white); padding: 40px; text-align: center; border-radius: 16px 16px 0 0; }
        .results-header h2 { font-size: 1.8em; margin-bottom: 10px; }
        .results-header .student-name { font-size: 1.3em; color: var(--chapman-gold); margin-bottom: 8px; }
        .overall-score { background: linear-gradient(135deg, #34495e, #2c3e50); padding: 40px; text-align: center; }
        .score-circle { width: 160px; height: 160px; border-radius: 50%; background: conic-gradient(var(--chapman-gold) var(--pct), rgba(255,255,255,0.2) 0); display: flex; align-items: center; justify-content: center; margin: 0 auto 20px; }
        .score-inner { width: 130px; height: 130px; border-radius: 50%; background: #2c3e50; display: flex; flex-direction: column; align-items: center; justify-content: center; color: var(--white); }
        .score-inner .score { font-size: 2.8em; font-weight: 700; line-height: 1; }
        .score-inner .label { font-size: 0.85em; opacity: 0.9; }
        .level-name { color: var(--chapman-gold); font-size: 1.4em; font-weight: 700; margin-bottom: 10px; }
        .level-desc { color: rgba(255,255,255,0.85); font-size: 0.95em; max-width: 600px; margin: 0 auto; line-height: 1.6; }
        .dim-scores { display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; padding: 25px; background: linear-gradient(135deg, #3a5068, #2c3e50); }
        .dim-score-card { background: rgba(255,255,255,0.1); padding: 20px 15px; border-radius: 14px; text-align: center; color: var(--white); }
        .dim-score-card.highest { box-shadow: 0 0 0 3px var(--chapman-gold); }
        .dim-score-card.lowest { border: 2px dashed rgba(255,255,255,0.4); }
        .dim-score-card .icon { font-size: 1.6em; margin-bottom: 6px; }
        .dim-score-card .name { font-size: 0.7em; margin-bottom: 8px; opacity: 0.9; }
        .dim-score-card .score { font-size: 2em; font-weight: 700; }
        .dim-score-card .max { font-size: 0.7em; opacity: 0.7; }
        .results-body { background: var(--blue-light); padding: 35px; border-radius: 0 0 16px 16px; }
        .result-section { background: var(--white); border-radius: 14px; padding: 28px; margin-bottom: 20px; border-left: 5px solid var(--chapman-blue); }
        .result-section.gold-accent { border-left-color: var(--chapman-gold); }
        .result-section h4 { color: var(--chapman-blue); margin-bottom: 18px; }
        .dim-detail { padding: 20px; border-radius: 12px; margin-bottom: 15px; }
        .dim-detail.empowering { background: rgba(21,101,192,0.08); border-left: 4px solid var(--empowering); }
        .dim-detail.humility { background: rgba(46,125,50,0.08); border-left: 4px solid var(--humility); }
        .dim-detail.serving { background: rgba(123,31,162,0.08); border-left: 4px solid var(--serving); }
        .dim-detail.stewardship { background: rgba(198,40,40,0.08); border-left: 4px solid var(--stewardship); }
        .dim-detail h5 { margin-bottom: 8px; }
        .dim-detail p { font-size: 0.9em; color: var(--text-secondary); margin-bottom: 10px; }
        .dim-detail ul { list-style: none; padding: 0; }
        .dim-detail li { padding: 5px 0 5px 20px; position: relative; font-size: 0.85em; color: var(--text-secondary); }
        .dim-detail li::before { content: '‚Üí'; position: absolute; left: 0; }
        .reflection-section { background: linear-gradient(135deg, var(--blue-light), #f0f4fa); border-radius: 14px; padding: 30px; margin-top: 25px; border: 2px solid var(--chapman-blue); }
        .reflection-section h4 { color: var(--chapman-blue); margin-bottom: 20px; text-align: center; }
        .reflection-questions { counter-reset: reflection; }
        .reflection-question { padding: 18px 20px 18px 50px; position: relative; background: var(--white); border-radius: 10px; margin-bottom: 12px; color: var(--text-secondary); }
        .reflection-question::before { counter-increment: reflection; content: counter(reflection); position: absolute; left: 15px; top: 50%; transform: translateY(-50%); width: 26px; height: 26px; background: var(--chapman-blue); color: var(--white); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 0.85em; font-weight: 700; }
        .footer { text-align: center; padding: 25px; color: var(--text-secondary); font-size: 0.9em; border-top: 1px solid #e8ecf0; margin-top: 30px; }
        @media (max-width: 768px) { .dimensions-grid, .dim-scores { grid-template-columns: repeat(2, 1fr); } .student-info { grid-template-columns: 1fr; } h1 { font-size: 1.8em; } }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="institution">Chapman University</div>
            <div class="college">Argyros College of Business and Economics</div>
            <h1>Servant Leadership Assessment</h1>
            <div class="subtitle">Based on Greenleaf's Servant Leadership Philosophy</div>
        </div>
        <div class="content">
            <div id="intro-section">
                <div class="intro-section">
                    <h2>ü§≤ How Strong Is Your Servant Leadership?</h2>
                    <p><strong>Servant leadership</strong> flips traditional leadership on its head. Instead of people serving the leader, the leader serves the people. <strong>Robert Greenleaf</strong> coined this philosophy, arguing that the best leaders are servants first.</p>
                    <div class="dimensions-grid">
                        <div class="dim-preview empowering"><div class="icon">üí™</div><div class="name">Empowering Others</div></div>
                        <div class="dim-preview humility"><div class="icon">üôè</div><div class="name">Humility</div></div>
                        <div class="dim-preview serving"><div class="icon">ü§≤</div><div class="name">Putting Others First</div></div>
                        <div class="dim-preview stewardship"><div class="icon">üå±</div><div class="name">Stewardship</div></div>
                    </div>
                    <div class="quote-box">
                        <blockquote>"The servant-leader is servant first... It begins with the natural feeling that one wants to serve, to serve first."</blockquote>
                        <cite>‚Äî Robert K. Greenleaf, The Servant as Leader (1970)</cite>
                    </div>
                    <div class="assessment-meta">
                        <div class="meta-item"><div class="meta-icon">‚è±</div><span>8-10 minutes</span></div>
                        <div class="meta-item"><div class="meta-icon">üìù</div><span>20 items</span></div>
                        <div class="meta-item"><div class="meta-icon">ü§≤</div><span>4 dimensions</span></div>
                    </div>
                </div>
                <div class="student-info">
                    <div class="input-group"><label for="studentName">Your Full Name</label><input type="text" id="studentName" placeholder="Enter your full name"></div>
                    <div class="input-group"><label for="testDate">Assessment Date</label><input type="date" id="testDate"></div>
                </div>
                <div class="instructions-box">
                    <h3>üìå Instructions</h3>
                    <p>Rate how frequently each statement describes your typical behavior.</p>
                    <div class="scale-display">
                        <div class="scale-item"><div class="scale-number">1</div><div class="scale-label">Strongly Disagree</div></div>
                        <div class="scale-item"><div class="scale-number">2</div><div class="scale-label">Disagree</div></div>
                        <div class="scale-item"><div class="scale-number">3</div><div class="scale-label">Neutral</div></div>
                        <div class="scale-item"><div class="scale-number">4</div><div class="scale-label">Agree</div></div>
                        <div class="scale-item"><div class="scale-number">5</div><div class="scale-label">Strongly Agree</div></div>
                    </div>
                </div>
                <div class="controls"><button class="btn btn-primary" onclick="startAssessment()">Begin Assessment ‚Üí</button></div>
            </div>
            <div id="assessment-section" class="hidden">
                <div class="progress-container">
                    <div class="progress-label"><span>Progress</span><span id="progressText">0 of 20</span></div>
                    <div class="progress-bar"><div class="progress-fill" id="progressFill"></div></div>
                </div>
                <div id="questions-container"></div>
                <div class="controls"><button class="btn btn-primary" id="submitBtn" onclick="calculateResults()" disabled>Discover My Profile ‚Üí</button></div>
            </div>
            <div id="results" class="results"></div>
            <div id="downloadSection" class="hidden controls">
                <button class="btn btn-secondary" onclick="generatePDF()">üìÑ Download PDF</button>
                <button class="btn btn-outline" onclick="restartAssessment()">Retake</button>
            </div>
        </div>
        <div class="footer">
            <p>Servant Leadership Assessment ‚Ä¢ Based on Greenleaf's Servant Leadership Philosophy</p>
            <p>Chapman University ‚Ä¢ Argyros College of Business and Economics</p>
            <p style="margin-top: 8px; font-size: 0.85em;">¬© 2024 Professor Chip Monaco ‚Ä¢ MGMT 316</p>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script>
        const questions = {
            empowering: [
                { id: 1, text: "I give others the responsibility and authority to make important decisions.", dim: "empowering" },
                { id: 2, text: "I encourage others to handle important work decisions on their own.", dim: "empowering" },
                { id: 3, text: "I provide opportunities for others to develop new skills.", dim: "empowering" },
                { id: 4, text: "I help others develop their full potential.", dim: "empowering" },
                { id: 5, text: "I trust others to make decisions without my approval.", dim: "empowering" }
            ],
            humility: [
                { id: 6, text: "I admit my mistakes to others.", dim: "humility" },
                { id: 7, text: "I learn from criticism.", dim: "humility" },
                { id: 8, text: "I acknowledge when others have more knowledge than I do.", dim: "humility" },
                { id: 9, text: "I seek out others' opinions even when they differ from mine.", dim: "humility" },
                { id: 10, text: "I am willing to admit when I am wrong.", dim: "humility" }
            ],
            serving: [
                { id: 11, text: "I put others' interests ahead of my own.", dim: "serving" },
                { id: 12, text: "I sacrifice my own interests to meet others' needs.", dim: "serving" },
                { id: 13, text: "I go out of my way to help others.", dim: "serving" },
                { id: 14, text: "I put others' success ahead of my own.", dim: "serving" },
                { id: 15, text: "I make the personal development of others a priority.", dim: "serving" }
            ],
            stewardship: [
                { id: 16, text: "I take responsibility for the impact of my decisions on others.", dim: "stewardship" },
                { id: 17, text: "I am concerned with making a positive difference in society.", dim: "stewardship" },
                { id: 18, text: "I encourage others to be involved in community service.", dim: "stewardship" },
                { id: 19, text: "I believe that the organization has a responsibility to the community.", dim: "stewardship" },
                { id: 20, text: "I see myself as a caretaker of the organization's mission and values.", dim: "stewardship" }
            ]
        };
        const dimensionData = {
            empowering: { name: "Empowering Others", icon: "üí™", color: "#1565C0", description: "Enabling others to grow, develop, and reach their full potential.", highBehaviors: ["Delegates meaningful responsibilities", "Develops others' skills", "Trusts others to make decisions", "Creates growth opportunities"], development: ["Delegate more significant tasks", "Coach rather than direct", "Celebrate others' successes", "Provide stretch assignments"] },
            humility: { name: "Humility", icon: "üôè", color: "#2E7D32", description: "Being open to learning, admitting mistakes, and recognizing others' contributions.", highBehaviors: ["Admits mistakes openly", "Learns from feedback", "Acknowledges others' expertise", "Shares credit generously"], development: ["Ask for feedback regularly", "Say 'I don't know' when appropriate", "Highlight team accomplishments", "Practice active listening"] },
            serving: { name: "Putting Others First", icon: "ü§≤", color: "#7B1FA2", description: "Prioritizing the needs and development of others over your own interests.", highBehaviors: ["Prioritizes others' needs", "Sacrifices personal interests when needed", "Goes out of way to help", "Focuses on others' development"], development: ["Ask 'How can I help?' more often", "Remove obstacles for your team", "Take interest in people's lives", "Be available when needed"] },
            stewardship: { name: "Stewardship", icon: "üå±", color: "#C62828", description: "Taking responsibility for the well-being of the organization and broader community.", highBehaviors: ["Takes responsibility for broader impact", "Considers community welfare", "Protects organizational values", "Thinks long-term about legacy"], development: ["Connect work to larger purpose", "Engage in community service", "Mentor the next generation", "Make ethical decisions for the long term"] }
        };
        const levels = [
            { min: 80, max: 100, name: "Exemplary Servant Leader", desc: "You consistently put others first, empower those around you, and lead with humility and stewardship." },
            { min: 60, max: 79, name: "Strong Servant Leader", desc: "You genuinely care about others' growth and success and lead with a service orientation." },
            { min: 40, max: 59, name: "Developing Servant Leader", desc: "Focus on putting others' needs first more consistently and developing empowering behaviors." },
            { min: 20, max: 39, name: "Emerging Servant Leader", desc: "Consider shifting focus from personal achievement to serving and developing others." }
        ];
        let responses = {};
        let studentName = '';
        let surveyDate = '';
        document.addEventListener('DOMContentLoaded', () => { document.getElementById('testDate').value = new Date().toISOString().split('T')[0]; });
        function startAssessment() {
            studentName = document.getElementById('studentName').value.trim();
            surveyDate = document.getElementById('testDate').value;
            if (!studentName) { alert('Please enter your name.'); return; }
            document.getElementById('intro-section').classList.add('hidden');
            document.getElementById('assessment-section').classList.remove('hidden');
            renderQuestions();
        }
        function renderQuestions() {
            const container = document.getElementById('questions-container');
            const allQuestions = [...questions.empowering, ...questions.humility, ...questions.serving, ...questions.stewardship].sort(() => Math.random() - 0.5);
            container.innerHTML = allQuestions.map((q, i) => `
                <div class="question-container" id="q-container-${q.id}">
                    <div class="question-text"><span class="question-number">${i+1}.</span> ${q.text}</div>
                    <div class="likert-scale">
                        ${[1,2,3,4,5].map(val => `
                            <div class="likert-option">
                                <input type="radio" name="q${q.id}" id="q${q.id}_${val}" value="${val}" onchange="handleResponse(${q.id}, ${val}, '${q.dim}')">
                                <label for="q${q.id}_${val}"><span class="likert-number">${val}</span><span class="likert-label">${['Strongly Disagree','Disagree','Neutral','Agree','Strongly Agree'][val-1]}</span></label>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `).join('');
        }
        function handleResponse(id, value, dim) {
            responses[id] = { value, dim };
            document.getElementById(`q-container-${id}`).classList.add('answered');
            updateProgress();
        }
        function updateProgress() {
            const answered = Object.keys(responses).length;
            document.getElementById('progressFill').style.width = (answered / 20 * 100) + '%';
            document.getElementById('progressText').textContent = `${answered} of 20`;
            document.getElementById('submitBtn').disabled = answered < 20;
        }
        function calculateResults() {
            const scores = { empowering: 0, humility: 0, serving: 0, stewardship: 0 };
            Object.values(responses).forEach(r => scores[r.dim] += r.value);
            const totalScore = Object.values(scores).reduce((a, b) => a + b, 0);
            displayResults(scores, totalScore);
        }
        function displayResults(scores, totalScore) {
            const level = levels.find(l => totalScore >= l.min && totalScore <= l.max) || levels[3];
            const pct = (totalScore / 100) * 100;
            const sorted = Object.entries(scores).sort((a, b) => b[1] - a[1]);
            const highestDim = sorted[0][0];
            const lowestDim = sorted[3][0];
            document.getElementById('results').innerHTML = `
                <div class="results-header"><h2>ü§≤ Your Servant Leadership Profile</h2><div class="student-name">${studentName}</div><div class="date">Completed: ${new Date(surveyDate).toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })}</div></div>
                <div class="overall-score">
                    <div class="score-circle" style="--pct: ${pct}%;"><div class="score-inner"><div class="score">${totalScore}</div><div class="label">of 100</div></div></div>
                    <div class="level-name">${level.name}</div>
                    <div class="level-desc">${level.desc}</div>
                </div>
                <div class="dim-scores">
                    ${['empowering', 'humility', 'serving', 'stewardship'].map(dim => `
                        <div class="dim-score-card ${dim === highestDim ? 'highest' : ''} ${dim === lowestDim ? 'lowest' : ''}">
                            <div class="icon">${dimensionData[dim].icon}</div>
                            <div class="name">${dimensionData[dim].name}</div>
                            <div class="score">${scores[dim]}</div>
                            <div class="max">of 25</div>
                        </div>
                    `).join('')}
                </div>
                <div class="results-body">
                    <div class="result-section"><h4>üìä Your Dimension Profile</h4>
                        ${['empowering', 'humility', 'serving', 'stewardship'].map(dim => `
                            <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 12px;">
                                <span style="width: 140px; font-weight: 600; color: var(--text-secondary); font-size: 0.85em;">${dimensionData[dim].icon} ${dimensionData[dim].name}</span>
                                <div style="flex: 1; height: 26px; background: #e8ecf0; border-radius: 13px; overflow: hidden;">
                                    <div style="height: 100%; width: ${(scores[dim] / 25) * 100}%; background: ${dimensionData[dim].color}; border-radius: 13px; display: flex; align-items: center; justify-content: flex-end; padding-right: 10px; color: white; font-weight: 600; font-size: 0.8em; min-width: 35px;">${scores[dim]}</div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                    <div class="result-section gold-accent"><h4>üí™ Strongest: ${dimensionData[highestDim].name}</h4>
                        <div class="dim-detail ${highestDim}"><h5 style="color: ${dimensionData[highestDim].color};">${dimensionData[highestDim].icon} ${dimensionData[highestDim].name}</h5><p>${dimensionData[highestDim].description}</p><p><strong>High Behaviors:</strong></p><ul>${dimensionData[highestDim].highBehaviors.map(b => `<li style="color: ${dimensionData[highestDim].color};">${b}</li>`).join('')}</ul></div>
                    </div>
                    <div class="result-section"><h4>üéØ Growth Area: ${dimensionData[lowestDim].name}</h4>
                        <div class="dim-detail ${lowestDim}"><h5 style="color: ${dimensionData[lowestDim].color};">${dimensionData[lowestDim].icon} ${dimensionData[lowestDim].name}</h5><p>${dimensionData[lowestDim].description}</p><p><strong>Development Strategies:</strong></p><ul>${dimensionData[lowestDim].development.map(d => `<li style="color: ${dimensionData[lowestDim].color};">${d}</li>`).join('')}</ul></div>
                    </div>
                    <div class="reflection-section"><h4>ü§î Reflection Questions</h4><div class="reflection-questions"><div class="reflection-question">Who has modeled servant leadership for you?</div><div class="reflection-question">When have you put others' needs ahead of your own?</div><div class="reflection-question">What barriers prevent you from serving others more?</div><div class="reflection-question">What one action could you take this week to be more of a servant leader?</div></div></div>
                </div>
            `;
            document.getElementById('assessment-section').classList.add('hidden');
            document.getElementById('results').style.display = 'block';
            document.getElementById('downloadSection').classList.remove('hidden');
            document.getElementById('results').scrollIntoView({ behavior: 'smooth' });
            window.servantResults = { scores, totalScore, level, highestDim, lowestDim };
        }
        function generatePDF() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            const { scores, totalScore, level, highestDim, lowestDim } = window.servantResults;
            doc.setFillColor(0, 32, 91);
            doc.rect(0, 0, 210, 40, 'F');
            doc.setFontSize(10);
            doc.setTextColor(255, 255, 255);
            doc.text('CHAPMAN UNIVERSITY', 105, 12, { align: 'center' });
            doc.setFontSize(16);
            doc.text('Servant Leadership Assessment', 105, 25, { align: 'center' });
            doc.setFontSize(9);
            doc.setTextColor(196, 160, 0);
            doc.text("Based on Greenleaf's Servant Leadership Philosophy", 105, 33, { align: 'center' });
            doc.setFillColor(196, 160, 0);
            doc.rect(0, 40, 210, 2, 'F');
            let y = 52;
            doc.setFontSize(11);
            doc.setTextColor(26, 26, 46);
            doc.text(`Student: ${studentName}`, 20, y);
            doc.text(`Date: ${new Date(surveyDate).toLocaleDateString()}`, 120, y);
            y += 15;
            doc.setFillColor(0, 32, 91);
            doc.roundedRect(20, y, 170, 18, 3, 3, 'F');
            doc.setFontSize(14);
            doc.setTextColor(255, 255, 255);
            doc.text(`${level.name}: ${totalScore}/100`, 105, y + 12, { align: 'center' });
            y += 26;
            doc.setFontSize(10);
            doc.setTextColor(26, 26, 46);
            ['empowering', 'humility', 'serving', 'stewardship'].forEach(dim => {
                doc.text(`${dimensionData[dim].icon} ${dimensionData[dim].name}: ${scores[dim]}/25`, 25, y);
                y += 7;
            });
            doc.setFontSize(8);
            doc.setTextColor(100, 100, 110);
            doc.text('Chapman University ‚Ä¢ Argyros College of Business ‚Ä¢ MGMT 316', 105, 287, { align: 'center' });
            doc.save(`Servant_Leadership_${studentName.replace(/\\s+/g, '_')}.pdf`);
        }
        function restartAssessment() {
            responses = {};
            document.getElementById('studentName').value = '';
            document.getElementById('testDate').value = new Date().toISOString().split('T')[0];
            document.getElementById('results').style.display = 'none';
            document.getElementById('assessment-section').classList.add('hidden');
            document.getElementById('downloadSection').classList.add('hidden');
            document.getElementById('intro-section').classList.remove('hidden');
            document.getElementById('progressFill').style.width = '0%';
            window.scrollTo(0, 0);
        }
    </script>
</body>
</html>
